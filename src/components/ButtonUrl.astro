---
export interface Props {
	name: string;
	group_id: string;
	platform: string;
	prefix?: string;
	icon_class: string;
	random: string;
}
const { name, group_id, platform, prefix, icon_class, random } = Astro.props;
---

<div
	id={random}
	class="cursor-pointer w-full bg-white text-fucsia no-underline uppercase duration-400 transition-color text-sm tracking-[0px] border-white px-5 py-[15px] rounded-lg border-1 border-solid hover:bg-zero hover:text-white hover:border-white hover:color-white hover:font-[sansbold]"
>
	<i class={icon_class + ' mr-2'} aria-hidden="true"></i>{name}
</div>

<script define:vars={{ group_id, platform, prefix, random }}>
	let btn = document.getElementById(random);
	let url = platform == 'wa' ? 'https://chat.whatsapp.com/' : 'https://t.me/';
	url += prefix != undefined ? prefix + '/' : '';
	url += group_id;
	console.log(url);
	const click = function () {
		console.log('opening ', url);
		window.open(url, '_blank').focus();
	};
	if (btn != null) {
		btn.addEventListener('click', click);
	}
</script>
